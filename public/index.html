<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Bank Statement Generator</title>

    <style>
      * {
        box-sizing: border-box;
        font-family: "Segoe UI", Arial, sans-serif;
      }

      body {
        margin: 0;
        height: 100vh;
        background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .card {
        background: #fff;
        width: 480px;
        padding: 25px;
        border-radius: 14px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
        max-height: 92vh;
        overflow-y: auto;
      }

      .title {
        text-align: center;
        font-size: 22px;
        font-weight: 600;
        color: #203a43;
        margin-bottom: 15px;
      }

      /* Toggle */
      .bank-toggle {
        position: relative;
        display: flex;
        background: #e0e0e0;
        border-radius: 30px;
        height: 42px;
        margin-bottom: 25px;
        overflow: hidden;
      }

      .bank-toggle span {
        flex: 1;
        text-align: center;
        line-height: 42px;
        font-weight: 600;
        z-index: 2;
        color: #555;
        cursor: pointer;
      }

      .bank-toggle .slider {
        position: absolute;
        width: 50%;
        height: 100%;
        background: linear-gradient(135deg, #2c5364, #203a43);
        border-radius: 30px;
        left: 0;
        transition: 0.3s ease;
      }

      .bank-toggle.active-kotak .slider {
        left: 50%;
      }
      .bank-toggle.active-sbi span.sbi,
      .bank-toggle.active-kotak span.kotak {
        color: #fff;
      }

      /* Form */
      .field {
        margin-bottom: 12px;
      }

      .field label {
        font-size: 12px;
        font-weight: 600;
        color: #555;
        display: block;
        margin-bottom: 4px;
      }

      .field input,
      .field textarea {
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 14px;
      }

      textarea {
        resize: none;
      }

      .buttons {
        display: flex;
        gap: 10px;
        margin-top: 18px;
      }

      .btn {
        flex: 1;
        padding: 12px;
        background: linear-gradient(135deg, #2c5364, #203a43);
        border: none;
        color: #fff;
        font-size: 14px;
        font-weight: 600;
        border-radius: 10px;
        cursor: pointer;
      }

      .btn.secondary {
        background: linear-gradient(135deg, #5f6368, #3c4043);
      }

      .hidden {
        display: none;
      }
    </style>
  </head>

  <body>
    <div class="card">
      <div class="title">Bank Statement</div>

      <!-- Toggle -->
      <div class="bank-toggle active-sbi" id="bankToggle">
        <div class="slider"></div>
        <span class="sbi" onclick="switchBank('sbi')">SBI</span>
        <span class="kotak" onclick="switchBank('kotak')">Kotak</span>
      </div>

      <!-- ================= SBI FORM ================= -->
      <form id="sbiForm">
        <div class="field">
          <label>Account Name</label><input name="accountName" required />
        </div>
        <div class="field">
          <label>Account Number</label><input name="accountNumber" required />
        </div>
        <div class="field">
          <label>Customer Name</label><input name="customerName" required />
        </div>

        <div class="field">
          <label>Account Description</label><input name="accountDesc" />
        </div>
        <div class="field"><label>Branch</label><input name="branch" /></div>
        <div class="field">
          <label>IFSC</label><input name="ifsc" required />
        </div>
        <div class="field"><label>MICR</label><input name="micr" /></div>
        <div class="field"><label>CIF</label><input name="cif" /></div>
        <div class="field"><label>CKYC</label><input name="ckycr" /></div>
        <div class="field">
          <label>Monthly Salary</label>
          <input type="number" name="salary" placeholder="25000" />
        </div>
        <div class="field">
          <label>Nomination</label><input name="nomination" />
        </div>
        <div class="field">
          <label> Salary Bank Name</label><input name="bankName" />
        </div>
        <div class="field">
          <label>Salary Ref Name</label><input name="salaryrRefName" />
        </div>
        <div class="field">
          <label>Mode Balance</label><input name="modBalance" />
        </div>
        <div class="field">
          <label>Drawing Power</label><input name="drawingPower" />
        </div>
        <div class="field">
          <label>Interest Rate</label
          ><input name="interestRate" placeholder="7%" />
        </div>

        <div class="field">
          <label>Address</label>
          <textarea name="address" rows="2"></textarea>
        </div>
        <div class="field">
          <label>Area</label>
          <textarea name="area" rows="2"></textarea>
        </div>
        <div class="field">
          <label>PinCode</label>
          <textarea name="areapincode" rows="2"></textarea>
        </div>
        <div class="field">
          <label>City</label>
          <textarea name="city" rows="2"></textarea>
        </div>
        <div class="field">
          <label>Statement Date</label><input type="date" name="date" />
        </div>
        <div class="field">
          <label>From Date</label><input type="date" name="fromDate" required />
        </div>
        <div class="field">
          <label>To Date</label><input type="date" name="toDate" required />
        </div>
        <div class="field">
          <label>Entry Count</label>
          <input name="entryCount" />
        </div>
        <div class="buttons">
          <button type="button" class="btn secondary" onclick="preview('sbi')">
            üëÅ Preview
          </button>
          <button type="button" class="btn" onclick="download('sbi')">
            ‚¨á Download
          </button>
        </div>
      </form>

      <!-- ================= KOTAK FORM ================= -->
      <form id="kotakForm" class="hidden">
        <div class="field">
          <label>Account Holder Name</label>
          <input name="accountName" required />
        </div>

        <div class="field">
          <label>Account Number</label>
          <input name="accountNumber" required />
        </div>

        <div class="field">
          <label>Customer ID</label>
          <input name="customerId" />
        </div>

        <div class="field">
          <label>Branch</label>
          <input name="branch" />
        </div>

        <div class="field">
          <label>IFSC</label>
          <input name="ifsc" required />
        </div>

        <!-- ‚úÖ NEW FIELDS -->
        <div class="field">
          <label>From Date</label>
          <input type="date" name="fromDate" required />
        </div>

        <div class="field">
          <label>To Date</label>
          <input type="date" name="toDate" required />
        </div>

        <div class="field">
          <label>Monthly Salary</label>
          <input type="number" name="salary" placeholder="25000" />
        </div>
        <div class="field">
          <label>Entry Count</label>
          <input name="entryCount" />
        </div>
        <div class="buttons">
          <button
            type="button"
            class="btn secondary"
            onclick="preview('kotak')"
          >
            üëÅ Preview
          </button>
          <button type="button" class="btn" onclick="download('kotak')">
            ‚¨á Download
          </button>
        </div>
      </form>
    </div>

    <script>
      function switchBank(bank) {
        const toggle = document.getElementById("bankToggle");
        const sbiForm = document.getElementById("sbiForm");
        const kotakForm = document.getElementById("kotakForm");

        toggle.className =
          "bank-toggle " + (bank === "sbi" ? "active-sbi" : "active-kotak");
        sbiForm.classList.toggle("hidden", bank !== "sbi");
        kotakForm.classList.toggle("hidden", bank !== "kotak");
      }

      function preview(bank) {
        const form = document.getElementById(bank + "Form");
        const api =
          bank === "sbi" ? "/api/sbi/statement" : "/api/kotak/statement";

        fetch(api + "?download=false", {
          method: "POST",
          body: new FormData(form),
        })
          .then((r) => r.blob())
          .then((b) => window.open(URL.createObjectURL(b)));
      }

      function download(bank) {
        const form = document.getElementById(bank + "Form");
        const api =
          bank === "sbi" ? "/api/sbi/statement" : "/api/kotak/statement";

        fetch(api + "?download=true", {
          method: "POST",
          body: new FormData(form),
        })
          .then((r) => r.blob())
          .then((b) => {
            const a = document.createElement("a");
            a.href = URL.createObjectURL(b);
            a.download = bank.toUpperCase() + "_Statement.pdf";
            a.click();
          });
      }
    </script>
  </body>
</html>
